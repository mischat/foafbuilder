<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Foaf Editor</title>
        <script type="text/javascript" src="/js/json.js"></script>
        <script type="text/javascript" src="/js/jquery-1.2.6.min.js"></script>
        <script type="text/javascript" src="/js/script.js"></script>
        <script>
        	/*global variables containing all the data on the page*/
			var PageDataObject;
			
			/*object to hold global variables in */
			//TODO: this object is a bit 'inside out'
			function PageDataObject(){
				this.foafPrimaryTopic = new Array();
        		<?
        			//TODO: this'll have to change if we make the fieldNames object page specific
    				require_once 'FieldNames.php';
    				require_once 'Field.php';
    				
    				$fieldNamesObject = new FieldNames();
    				$allFieldNames = $fieldNamesObject->getAllFieldNames();
    				 
    				/*generate javascript to declare an array for each field on the page*/
    				foreach($allFieldNames as $fieldName => $field){
    					echo("this.".$fieldName."ValueArray = new Array();"."\n");
    				}
    	    	
        		?>	
			}
		</script>
    </head>
    <body>
        <h1>Foaf Editor</h1>
	<?php echo $this->layout()->content; ?>
    </body>
</html>